import{L as k,r as h,o,c as j,w as r,a as e,f as c,n as x,e as p,t as f,b as i,g as d,d as b,F as g,G as w,Q as C}from"./app.db6a0b30.js";import{L as S}from"./Shared.c5abe9f3.js";import{E as V,a as L,S as O}from"./tiptap-starter-kit.esm.702541bd.js";import{F}from"./Field.e256bd4a.js";import{_ as N}from"./_plugin-vue_export-helper.cdc0426e.js";/* empty css            */import"./Toast.eade182a.js";import"./transition.a1c1a06a.js";const B={components:{Link:k,Layout:S,EditorContent:V,Field:F},props:{page:Object,project:Object,sections:Object,fields:Object,selectedSection:Object,uuid:String},data(){return{editor:null,sortOrder:0}},mounted(){this.editor=new L({content:"<p>I\u2019m running Tiptap with Vue.js. \u{1F389}</p>",extensions:[O.configure({heading:{levels:[1,2]}})]})},beforeUnmount(){this.editor.destroy()},methods:{saveFields(){this.$inertia.post("/projects/"+this.project.id+"/pages/"+this.page.id+"/fields",{sectionID:this.selectedSection.id,fields:this.fields},{preserveScroll:!0})},markAsCompleted(){this.$inertia.post(route("markAsCompleted",[this.project.id,this.page.id]),{},{preserveScroll:!0})}}},U={class:"bg-black text-white py-4 px-10 flex justify-between items-center relative z-30"},E=e("div",{class:"flex items-center"},[e("a",{href:"https://www.withauthor.com",class:"text-2xl mr-10 font-bold"},"CollectContent")],-1),P={class:"flex items-center space-x-[30px]"},T=p("Pages"),z={class:"sticky top-0 z-40 bg-white rounded border-b border-gray-300 py-5 px-4 md:px-10 md:flex md:items-center md:justify-between mb-[30px]"},A={class:"text-2xl font-bold flex items-center space-x-[10px]"},D=e("li",{class:"text-black"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-chevron-right"},[e("polyline",{points:"9 18 15 12 9 6"})])],-1),I={class:"text-gray-600"},M={key:0,class:"mt-4 md:mt-0 md:ml-16 flex flex-col md:flex-row md:items-center space-y-3 md:space-y-0 md:space-x-3"},G={key:0},K={key:1},Q=e("div",{class:"inline-flex items-center justify-center px-4 py-2 border border-green-700 bg-green-600 text-brand-green-700 text-base font-medium rounded"},"Completed",-1),W=[Q],q={class:"max-w-4xl mx-auto px-4 relative pt-[10px] pb-[100px]"},H={class:"mb-10"},J={class:"block"},R={class:"border-b border-gray-300"},X={class:"-mb-px flex justify-between items-center","aria-label":"Tabs"},Y={class:"flex space-x-8"},Z={class:"space-y-[30px]",id:"fields"},$=["data-id"],ee=["onUpdate:modelValue"],te={key:1,class:"flex flex-col justify-center items-center pt-[100px] text-black text-center"},se=e("div",null,[e("h3",{class:"text-xl font-bold mb-[15px]"},"Nothing to see yet!"),e("p",{class:"text-black"},"No page fields have been added yet, please check back later.")],-1),oe=[se];function ie(a,l,t,de,ae,_){const u=h("Link"),v=h("field"),y=h("Layout");return o(),j(y,{class:"bg-gray-50"},{default:r(()=>[e("header",U,[E,e("ul",P,[e("li",null,[c(u,{href:a.route("viewSharedProject",[t.project.id,t.uuid]),class:x(["hover:underline underline-offset-4 transition-all font-medium",{underline:a.$page.url.startsWith("/projects")}])},{default:r(()=>[T]),_:1},8,["href","class"])])])]),e("div",z,[e("ul",A,[e("li",null,[c(u,{href:a.route("viewSharedProject",[t.project.id,t.uuid]),class:"text-black hover:text-indigo-500 transition-all"},{default:r(()=>[p(f(t.project.name),1)]),_:1},8,["href"])]),D,e("li",I,f(t.page.name),1)]),Object.keys(t.fields).length?(o(),i("div",M,[t.page.status!=="completed"?(o(),i("div",G,[e("button",{onClick:l[0]||(l[0]=s=>_.markAsCompleted()),class:"btn-outline"},"Mark as completed")])):d("",!0),t.page.status==="completed"?(o(),i("div",K,W)):d("",!0),e("div",null,[e("button",{onClick:l[1]||(l[1]=s=>_.saveFields()),class:"btn-primary"},"Save")])])):d("",!0)]),e("div",q,[e("div",H,[e("div",J,[e("div",R,[e("nav",X,[e("ul",Y,[(o(!0),i(g,null,b(t.sections,s=>(o(),i("li",null,[c(u,{href:a.route("viewSharedSection",[t.project.id,t.uuid,t.page.id,s.id]),class:x(["border-transparent hover:text-indigo-600 hover:border-indigo-500 whitespace-nowrap flex pt-4 pb-2 px-1 border-b-2 font-medium",{"border-indigo-500 text-indigo-600":t.selectedSection.id===s.id}])},{default:r(()=>[p(f(s.name),1)]),_:2},1032,["href","class"])]))),256))])])])])]),e("div",Z,[Object.keys(t.fields).length?(o(!0),i(g,{key:0},b(t.fields,(s,n)=>(o(),i("div",{key:s.uuid,"data-id":s.uuid},[w(e("input",{type:"hidden","onUpdate:modelValue":m=>t.fields[n].sort_order=m},null,8,ee),[[C,t.fields[n].sort_order]]),c(v,{modelValue:t.fields[n],"onUpdate:modelValue":m=>t.fields[n]=m,"field-data":s,page:t.page,project:t.project},null,8,["modelValue","onUpdate:modelValue","field-data","page","project"])],8,$))),128)):d("",!0),Object.keys(t.fields).length?d("",!0):(o(),i("div",te,oe))])])]),_:1})}const pe=N(B,[["render",ie]]);export{pe as default};
