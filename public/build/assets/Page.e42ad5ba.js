import{L as k,r as m,o as i,c as S,w as d,a as e,b as r,n as g,f as x,t as c,d as o,i as v,U as V,F as f,e as p,g as _,v as O}from"./app.99fc9137.js";import{L as C}from"./Shared.05d25595.js";import{E as L,a as U,S as P}from"./tiptap-starter-kit.esm.5f44eaa0.js";import{F}from"./Field.abb20181.js";import{_ as N}from"./_plugin-vue_export-helper.cdc0426e.js";/* empty css            */import"./Toast.9999381b.js";import"./transition.26c22943.js";const B={components:{Link:k,Layout:C,EditorContent:L,Field:F},props:{page:Object,project:Object,sections:Object,fields:Object,selectedSection:Object,uuid:String},data(){return{editor:null,sortOrder:0,statusOptions:["Draft","In Progress","Under Review","Ready To Publish","Published"]}},mounted(){this.editor=new U({content:"<p>I\u2019m running Tiptap with Vue.js. \u{1F389}</p>",extensions:[P.configure({heading:{levels:[1,2]}})]})},beforeUnmount(){this.editor.destroy()},methods:{saveFields(){this.$inertia.post("/projects/"+this.project.id+"/pages/"+this.page.id+"/fields",{sectionID:this.selectedSection.id,fields:this.fields},{preserveScroll:!0})},changeStatus(){this.$inertia.post(route("changeStatus",[this.project.id,this.page.id]),{status:this.page.status},{preserveScroll:!0})}}},T={class:"bg-black text-white py-4 px-10 flex justify-between items-center relative z-30"},D=e("div",{class:"flex items-center"},[e("a",{href:"https://www.withauthor.com",class:"text-2xl mr-10 font-bold"},"CollectContent")],-1),E={class:"flex items-center space-x-[30px]"},z=x("Pages"),I={class:"sticky top-0 z-40 bg-white rounded border-b border-gray-300 py-5 px-4 md:px-10 md:flex md:items-center md:justify-between mb-[30px]"},M={class:"text-2xl font-bold flex items-center space-x-[10px]"},R=e("li",{class:"text-black"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-chevron-right"},[e("polyline",{points:"9 18 15 12 9 6"})])],-1),K={class:"text-gray-600"},W={key:0,class:"mt-4 md:mt-0 md:ml-16 flex flex-col md:flex-row md:items-center space-y-3 md:space-y-0 md:space-x-3"},q={class:"max-w-4xl mx-auto px-4 relative pt-[10px] pb-[100px]"},A={class:"mb-10"},G={class:"block"},H={class:"border-b border-gray-300"},J={class:"-mb-px flex justify-between items-center","aria-label":"Tabs"},Q={class:"flex space-x-8"},X={class:"space-y-[30px]",id:"fields"},Y=["data-id"],Z=["onUpdate:modelValue"],$={key:1,class:"flex flex-col justify-center items-center pt-[100px] text-black text-center"},ee=e("div",null,[e("h3",{class:"text-xl font-bold mb-[15px]"},"Nothing to see yet!"),e("p",{class:"text-black"},"No page fields have been added yet, please check back later.")],-1),te=[ee];function se(l,a,t,ie,y,b){const u=m("Link"),w=m("field"),j=m("Layout");return i(),S(j,{class:"bg-gray-50"},{default:d(()=>[e("header",T,[D,e("ul",E,[e("li",null,[r(u,{href:l.route("viewSharedProject",[t.project.id,t.uuid]),class:g(["hover:underline underline-offset-4 transition-all font-medium",{underline:l.$page.url.startsWith("/projects")}])},{default:d(()=>[z]),_:1},8,["href","class"])])])]),e("div",I,[e("ul",M,[e("li",null,[r(u,{href:l.route("viewSharedProject",[t.project.id,t.uuid]),class:"text-black hover:text-indigo-500 transition-all"},{default:d(()=>[x(c(t.project.name),1)]),_:1},8,["href"])]),R,e("li",K,c(t.page.name),1)]),Object.keys(t.fields).length?(i(),o("div",W,[e("div",null,[v(e("select",{"onUpdate:modelValue":a[0]||(a[0]=s=>t.page.status=s),class:"border-gray-300 rounded",onChange:a[1]||(a[1]=s=>b.changeStatus())},[(i(!0),o(f,null,p(y.statusOptions,s=>(i(),o("option",null,c(s),1))),256))],544),[[V,t.page.status]])]),e("div",null,[e("button",{onClick:a[2]||(a[2]=s=>b.saveFields()),class:"btn-primary"},"Save")])])):_("",!0)]),e("div",q,[e("div",A,[e("div",G,[e("div",H,[e("nav",J,[e("ul",Q,[(i(!0),o(f,null,p(t.sections,s=>(i(),o("li",null,[r(u,{href:l.route("viewSharedSection",[t.project.id,t.uuid,t.page.id,s.id]),class:g(["border-transparent hover:text-indigo-600 hover:border-indigo-500 whitespace-nowrap flex pt-4 pb-2 px-1 border-b-2 font-medium",{"border-indigo-500 text-indigo-600":t.selectedSection.id===s.id}])},{default:d(()=>[x(c(s.name),1)]),_:2},1032,["href","class"])]))),256))])])])])]),e("div",X,[Object.keys(t.fields).length?(i(!0),o(f,{key:0},p(t.fields,(s,n)=>(i(),o("div",{key:s.uuid,"data-id":s.uuid},[v(e("input",{type:"hidden","onUpdate:modelValue":h=>t.fields[n].sort_order=h},null,8,Z),[[O,t.fields[n].sort_order]]),r(w,{modelValue:t.fields[n],"onUpdate:modelValue":h=>t.fields[n]=h,"field-data":s,page:t.page,project:t.project},null,8,["modelValue","onUpdate:modelValue","field-data","page","project"])],8,Y))),128)):_("",!0),Object.keys(t.fields).length?_("",!0):(i(),o("div",$,te))])])]),_:1})}const he=N(B,[["render",se]]);export{he as default};
