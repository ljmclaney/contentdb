import{L as j,r as f,o,c as h,w as d,a as e,f as g,e as b,t as r,g as n,G as v,S,b as i,d as _,F as p,n as O,R as V}from"./app.7e0295b7.js";import{L}from"./App.10158b98.js";import{F as C}from"./Field.af58e6cd.js";import{_ as B}from"./_plugin-vue_export-helper.cdc0426e.js";/* empty css            */import"./Toast.06a341d2.js";import"./tiptap-starter-kit.esm.9a22d4cc.js";import"./transition.f87c2a4e.js";const F={components:{Link:j,Layout:L,Field:C},props:{page:Object,project:Object,sections:Object,fields:Object,selectedSection:Object},data(){return{editor:null,sortOrder:0,statusOptions:["Draft","In Progress","Under Review","Ready To Publish","Published"]}},methods:{saveFields(){this.$inertia.post("/projects/"+this.project.id+"/pages/"+this.page.id+"/fields",{sectionID:this.selectedSection.id,fields:this.fields},{preserveScroll:!0})},changeStatus(){this.$inertia.post(route("changeStatus",[this.project.id,this.page.id]),{status:this.page.status},{preserveScroll:!0})}}},U={class:"sticky top-0 z-40 bg-white rounded border-b border-gray-300 py-5 px-4 md:px-10 md:flex md:items-center md:justify-between mb-[30px]"},P={class:"text-xl md:text-2xl font-bold flex items-center space-x-[10px]"},D={class:"truncate"},N=e("li",{class:"text-black"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-chevron-right"},[e("polyline",{points:"9 18 15 12 9 6"})])],-1),T={class:"truncate text-gray-600"},M={class:"mt-4 md:mt-0 md:ml-16 flex flex-col md:flex-row md:items-center space-y-3 md:space-y-0 md:space-x-3"},R=b("Edit structure"),z={class:"max-w-4xl mx-auto px-4 relative pt-[10px] pb-[100px]"},E={class:"mb-10"},I={class:"block"},G={class:"border-b border-gray-300"},q={class:"-mb-px flex justify-between items-center","aria-label":"Tabs"},A={class:"flex space-x-8"},H={class:"space-y-10",id:"fields"},J=["data-id"],K=["onUpdate:modelValue"],Q={key:1,class:"flex flex-col justify-center items-center pt-[100px] text-black text-center"},W=e("div",null,[e("h3",{class:"text-xl font-bold mb-[15px]"},"Let's start building your page structure!"),e("p",{class:"text-black"},"Select a field from the bottom.")],-1),X=[W],Y={class:"fixed bottom-[20px] left-0 w-full flex flex-col items-center justify-center"},Z={key:0,class:"mb-[30px] animate-bounce rounded-full w-[50px] h-[50px] bg-indigo-50 border border-indigo-500 text-indigo-500 flex justify-center items-center"},$=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16 17l-4 4m0 0l-4-4m4 4V3"})],-1),ee=[$];function te(c,l,t,se,y,x){const u=f("Link"),k=f("field"),w=f("Layout");return o(),h(w,{class:"bg-gray-50"},{default:d(()=>[e("div",U,[e("ul",P,[e("li",D,[g(u,{href:c.route("viewProject",t.project.id),class:"text-black hover:text-indigo-500 transition-all"},{default:d(()=>[b(r(t.project.name),1)]),_:1},8,["href"])]),N,e("li",T,r(t.page.name),1)]),e("div",M,[e("div",null,[Object.keys(t.fields).length?(o(),h(u,{key:0,href:c.route("pageStructure",[t.project.id,t.page.id]),class:"btn-outline"},{default:d(()=>[R]),_:1},8,["href"])):n("",!0)]),e("div",null,[v(e("select",{"onUpdate:modelValue":l[0]||(l[0]=s=>t.page.status=s),class:"border-gray-300 rounded",onChange:l[1]||(l[1]=s=>x.changeStatus())},[(o(!0),i(p,null,_(y.statusOptions,s=>(o(),i("option",null,r(s),1))),256))],544),[[S,t.page.status]])]),e("div",null,[e("button",{onClick:l[2]||(l[2]=s=>x.saveFields()),class:"btn-primary"},"Save")])])]),e("div",z,[e("div",E,[e("div",I,[e("div",G,[e("nav",q,[e("ul",A,[(o(!0),i(p,null,_(t.sections,s=>(o(),i("li",null,[g(u,{href:c.route("viewSection",[t.project.id,t.page.id,s.id]),class:O(["border-transparent hover:text-indigo-600 hover:border-indigo-500 whitespace-nowrap flex pt-4 pb-2 px-1 border-b-2 font-medium",{"border-black text-black":t.selectedSection.id===s.id}])},{default:d(()=>[b(r(s.name),1)]),_:2},1032,["href","class"])]))),256))])])])])]),e("div",H,[Object.keys(t.fields).length?(o(!0),i(p,{key:0},_(t.fields,(s,a)=>(o(),i("div",{key:s.uuid,"data-id":s.uuid},[v(e("input",{type:"hidden","onUpdate:modelValue":m=>t.fields[a].sort_order=m},null,8,K),[[V,t.fields[a].sort_order]]),(o(),h(k,{modelValue:t.fields[a],"onUpdate:modelValue":m=>t.fields[a]=m,"field-data":s,page:t.page,project:t.project,key:"field-"+s.uuid},null,8,["modelValue","onUpdate:modelValue","field-data","page","project"]))],8,J))),128)):n("",!0),Object.keys(t.fields).length?n("",!0):(o(),i("div",Q,X))]),e("div",Y,[Object.keys(t.fields).length?n("",!0):(o(),i("div",Z,ee))])])]),_:1})}const ue=B(F,[["render",te]]);export{ue as default};
