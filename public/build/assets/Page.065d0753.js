import{L as w,r as f,o,c as u,w as r,a as e,b as x,f as h,t as m,d as i,g as d,i as v,U as S,e as b,F as _,n as O,v as V}from"./app.99fc9137.js";import{L}from"./App.d0aead4d.js";import{F as C}from"./Field.abb20181.js";import{_ as P}from"./_plugin-vue_export-helper.cdc0426e.js";/* empty css            */import"./Toast.9999381b.js";import"./transition.26c22943.js";import"./tiptap-starter-kit.esm.5f44eaa0.js";const U={components:{Link:w,Layout:L,Field:C},props:{page:Object,project:Object,sections:Object,fields:Object,selectedSection:Object},data(){return{editor:null,sortOrder:0,statusOptions:["Draft","In Progress","Under Review","Ready To Publish","Published"]}},methods:{saveFields(){this.$inertia.post("/projects/"+this.project.id+"/pages/"+this.page.id+"/fields",{sectionID:this.selectedSection.id,fields:this.fields},{preserveScroll:!0})},changeStatus(){this.$inertia.post(route("changeStatus",[this.project.id,this.page.id]),{status:this.page.status},{preserveScroll:!0})}}},F={class:"sticky top-0 z-40 bg-white rounded border-b border-gray-300 py-5 px-4 md:px-10 md:flex md:items-center md:justify-between mb-[30px]"},B={class:"text-xl md:text-2xl font-bold flex items-center space-x-[10px]"},D={class:"truncate"},N=e("li",{class:"text-black"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-chevron-right"},[e("polyline",{points:"9 18 15 12 9 6"})])],-1),T={class:"truncate text-gray-600"},z={class:"mt-4 md:mt-0 md:ml-16 flex flex-col md:flex-row md:items-center space-y-3 md:space-y-0 md:space-x-3"},E={key:0},I=h("Edit structure"),M=["disabled"],R={class:"max-w-4xl mx-auto px-4 relative pt-[10px] pb-[100px]"},q={class:"mb-10"},A={class:"block"},G={class:"border-b border-gray-300"},H={class:"-mb-px flex justify-between items-center","aria-label":"Tabs"},J={class:"flex space-x-8"},K={class:"space-y-10",id:"fields"},Q=["data-id"],W=["onUpdate:modelValue"],X={key:1,class:"flex flex-col justify-center items-center pt-[100px] text-black text-center"},Y={key:0},Z=e("div",{class:"mb-[30px]"},[e("h3",{class:"text-xl font-bold mb-[15px]"},"Page missing content fields"),e("p",{class:"text-black"},"Start by adding content fields to your page.")],-1),$=h("Create structure"),ee={key:1},te=e("div",{class:"mb-[30px]"},[e("h3",{class:"text-xl font-bold mb-[15px]"},"Page missing content fields"),e("p",{class:"text-black"},"Please wait for your team members to add content fields to the page.")],-1),se=[te];function oe(a,l,t,ie,y,g){const n=f("Link"),k=f("field"),j=f("Layout");return o(),u(j,{class:"bg-gray-50"},{default:r(()=>[e("div",F,[e("ul",B,[e("li",D,[x(n,{href:a.route("viewProject",t.project.id),class:"text-black hover:text-indigo-500 transition-all"},{default:r(()=>[h(m(t.project.name),1)]),_:1},8,["href"])]),N,e("li",T,m(t.page.name),1)]),e("div",z,[a.$page.props.permissions["create-projects"]?(o(),i("div",E,[Object.keys(t.fields).length?(o(),u(n,{key:0,href:a.route("pageStructure",[t.project.id,t.page.id]),class:"btn-outline"},{default:r(()=>[I]),_:1},8,["href"])):d("",!0)])):d("",!0),e("div",null,[v(e("select",{"onUpdate:modelValue":l[0]||(l[0]=s=>t.page.status=s),class:"border-gray-300 rounded",onChange:l[1]||(l[1]=s=>g.changeStatus())},[(o(!0),i(_,null,b(y.statusOptions,s=>(o(),i("option",null,m(s),1))),256))],544),[[S,t.page.status]])]),e("div",null,[e("button",{disabled:!Object.keys(t.fields).length,onClick:l[2]||(l[2]=s=>g.saveFields()),class:"btn-primary"},"Save",8,M)])])]),e("div",R,[e("div",q,[e("div",A,[e("div",G,[e("nav",H,[e("ul",J,[(o(!0),i(_,null,b(t.sections,s=>(o(),i("li",null,[x(n,{href:a.route("viewSection",[t.project.id,t.page.id,s.id]),class:O(["border-transparent hover:text-indigo-600 hover:border-indigo-500 whitespace-nowrap flex pt-4 pb-2 px-1 border-b-2 font-medium",{"border-black text-black":t.selectedSection.id===s.id}])},{default:r(()=>[h(m(s.name),1)]),_:2},1032,["href","class"])]))),256))])])])])]),e("div",K,[Object.keys(t.fields).length?(o(!0),i(_,{key:0},b(t.fields,(s,c)=>(o(),i("div",{key:s.uuid,"data-id":s.uuid},[v(e("input",{type:"hidden","onUpdate:modelValue":p=>t.fields[c].sort_order=p},null,8,W),[[V,t.fields[c].sort_order]]),(o(),u(k,{modelValue:t.fields[c],"onUpdate:modelValue":p=>t.fields[c]=p,"field-data":s,page:t.page,project:t.project,key:"field-"+s.uuid},null,8,["modelValue","onUpdate:modelValue","field-data","page","project"]))],8,Q))),128)):d("",!0),Object.keys(t.fields).length?d("",!0):(o(),i("div",X,[a.$page.props.permissions["create-projects"]?(o(),i("div",Y,[Z,Object.keys(t.fields).length?(o(),u(n,{key:0,href:a.route("pageStructure",[t.project.id,t.page.id]),class:"btn-primary"},{default:r(()=>[$]),_:1},8,["href"])):d("",!0)])):d("",!0),a.$page.props.permissions["create-projects"]?d("",!0):(o(),i("div",ee,se))]))])])]),_:1})}const he=P(U,[["render",oe]]);export{he as default};
