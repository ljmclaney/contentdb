import{L as E,r as p,o as s,c as M,w as x,a as e,b,f as y,t as a,d as o,e as m,F as u,g as r,i as v,v as g,S as f,K as R}from"./app.6055333d.js";import{L as C}from"./App.08e488a4.js";import{S}from"./SlideOver.91f57293.js";import{M as U}from"./ModalLarge.e0eb8267.js";import{_ as V}from"./_plugin-vue_export-helper.cdc0426e.js";/* empty css            */import"./Toast.3ad552ee.js";import"./transition.ae91a58a.js";const P={components:{Link:E,Layout:C,SlideOver:S,ModalLarge:U},props:{users:Array,invites:Object,roles:Object,selectableRoles:Object,projects:Object},data(){return{inviteUser:!1,inviteEmail:null,inviteMessage:null,inviteRole:"",inviteEmailLoading:!1,inviteProjects:[]}},methods:{saveProject(){this.inviteEmailLoading=!0,this.$inertia.post(route("inviteMember"),{inviteEmail:this.inviteEmail,inviteMessage:this.inviteMessage,inviteRole:this.inviteRole,inviteProjects:this.inviteProjects},{preserveScroll:!0,onSuccess:()=>{this.inviteUser=!1,this.inviteEmail=null,this.inviteEmailLoading=!1,this.inviteProjects=[]},onError:()=>{this.inviteEmailLoading=!1}})},changeRole(_,l){this.$inertia.post(route("changeRole"),{user:_,role:l},{preserveScroll:!0})}}},O={class:"sticky top-0 z-40 bg-white rounded border-b border-gray-300 py-5 px-4 md:px-10 md:flex md:items-center md:justify-between mb-[30px]"},A={class:"text-xl md:text-2xl font-bold flex items-center space-x-[10px]"},B={class:"truncate"},N={class:"mt-4 md:mt-0 md:ml-16 flex flex-col md:flex-row md:items-center space-y-3 md:space-y-0 md:space-x-3"},z={class:"max-w-5xl mx-auto px-4 relative pt-[50px] pb-[112px]"},T={class:"max-w-4xl mx-auto space-y-[30px]"},D={class:"bg-white rounded border border-gray-300"},F=e("div",{class:"sm:flex sm:items-center p-5 border-b border-gray-300"},[e("div",{class:"sm:flex-auto"},[e("h2",{class:"text-xl font-bold"},"Team members & clients")])],-1),I={class:"p-5 flex flex-col"},H={class:"-my-2 -mx-4 overflow-x-auto sm:-mx-6 lg:-mx-8"},K={class:"inline-block min-w-full align-middle md:px-6 lg:px-8"},q={class:"min-w-full divide-y divide-gray-300"},G={class:"divide-y divide-gray-200"},J={class:"whitespace-nowrap py-4 pl-4 pr-3 font-medium text-gray-900 sm:pl-6 md:pl-0"},Q={key:0,class:"font-bold"},W={key:1,class:"font-bold"},X=e("br",null,null,-1),Y={class:"text-right"},Z=["value"],$=["onUpdate:modelValue","onChange"],ee=["value"],te={key:0,class:"bg-white rounded border border-gray-300"},se=e("div",{class:"sm:flex sm:items-center p-5 border-b border-gray-300"},[e("div",{class:"sm:flex-auto"},[e("h2",{class:"text-xl font-bold"},"Pending invites")])],-1),oe={class:"p-5 flex flex-col"},le={class:"-my-2 -mx-4 overflow-x-auto sm:-mx-6 lg:-mx-8"},ie={class:"inline-block min-w-full align-middle md:px-6 lg:px-8"},ne={class:"min-w-full divide-y divide-gray-300"},ae={class:"divide-y divide-gray-200"},re={class:"whitespace-nowrap py-4 pl-4 pr-3 font-medium text-gray-900 sm:pl-6 md:pl-0"},de={class:"font-bold"},ce={class:"text-right"},me=["value"],ue={class:"space-y-[15px]"},ve=e("label",{for:"email",class:"block text-sm font-medium text-gray-700"},"Invite by email",-1),_e={class:"mt-1"},pe=e("label",{for:"message",class:"block text-sm font-medium text-gray-700 sr-only"},"Message",-1),xe=e("label",{for:"role",class:"block text-sm font-medium text-gray-700"},"Role",-1),he=e("option",{value:"",selected:""},"Select a role",-1),be=["value"],ge={class:"mt-5"},fe=e("h3",{class:"block font-bold text-gray-700 mb-3"},"Restrict access to selected projects",-1),ye={class:"flex flex-wrap items-center"},we={class:"mr-4 mb-4"},ke={class:"flex items-center"},je={class:"mr-1"},Le=["value"],Ee={key:0},Me={key:1,class:"flex items-center"},Re=e("svg",{class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),Ce=y(" Sending "),Se=[Re,Ce];function Ue(_,l,n,Ve,i,h){const w=p("Link"),k=p("slide-over"),j=p("Layout");return s(),M(j,null,{default:x(()=>[e("div",O,[e("ul",A,[e("li",B,[b(w,{href:"/projects",class:"text-black hover:text-indigo-500 transition-all"},{default:x(()=>[y(a(_.$page.props.auth.account.name),1)]),_:1})])]),e("div",N,[e("div",null,[e("button",{onClick:l[0]||(l[0]=t=>i.inviteUser=!0),class:"btn-primary"},"Add a member")])])]),e("div",z,[e("div",T,[e("div",D,[e("div",null,[F,e("div",I,[e("div",H,[e("div",K,[e("table",q,[e("tbody",G,[(s(!0),o(u,null,m(n.users,(t,d)=>(s(),o("tr",null,[e("td",J,[t.name?(s(),o("span",Q,a(t.name),1)):r("",!0),t.name?r("",!0):(s(),o("span",W,"Name not set")),X,e("span",null,a(t.email),1)]),e("td",Y,[t.edit_allowed?r("",!0):(s(),o("input",{key:0,disabled:!0,class:"border-gray-300 rounded w-[128px] bg-gray-200",type:"text",value:n.roles[t.role].name},null,8,Z)),t.edit_allowed?v((s(),o("select",{key:1,"onUpdate:modelValue":c=>n.users[d].role=c,class:"border-gray-300 rounded",onChange:c=>h.changeRole(t)},[(s(!0),o(u,null,m(n.selectableRoles,(c,L)=>(s(),o("option",{value:L},a(c.name),9,ee))),256))],40,$)),[[f,n.users[d].role]]):r("",!0)])]))),256))])])])])])])]),Object.keys(n.invites).length?(s(),o("div",te,[e("div",null,[se,e("div",oe,[e("div",le,[e("div",ie,[e("table",ne,[e("tbody",ae,[(s(!0),o(u,null,m(n.invites,t=>(s(),o("tr",null,[e("td",re,[e("span",de,a(t.email),1)]),e("td",ce,[e("input",{disabled:!0,class:"border-gray-300 rounded w-[128px] bg-gray-200",type:"text",value:n.roles[t.role].name},null,8,me)])]))),256))])])])])])])])):r("",!0)])]),b(k,{open:i.inviteUser,onCloseSlider:l[6]||(l[6]=t=>i.inviteUser=!1),title:"Add a member"},{default:x(()=>[e("div",ue,[e("div",null,[ve,e("div",_e,[v(e("input",{type:"email",name:"email",id:"email","onUpdate:modelValue":l[1]||(l[1]=t=>i.inviteEmail=t),class:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md"},null,512),[[g,i.inviteEmail]])])]),e("div",null,[pe,e("div",null,[v(e("textarea",{type:"message",name:"message",id:"message","onUpdate:modelValue":l[2]||(l[2]=t=>i.inviteMessage=t),class:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",placeholder:"Add a message (optional)"},null,512),[[g,i.inviteMessage]])])]),e("div",null,[xe,v(e("select",{"onUpdate:modelValue":l[3]||(l[3]=t=>i.inviteRole=t),id:"role",class:"border-gray-300 rounded"},[he,(s(!0),o(u,null,m(n.selectableRoles,(t,d)=>(s(),o("option",{value:d},a(t.name),9,be))),256))],512),[[f,i.inviteRole]])]),e("div",ge,[fe,e("div",ye,[(s(!0),o(u,null,m(n.projects,(t,d)=>(s(),o("div",we,[e("label",ke,[e("span",je,a(t),1),v(e("input",{type:"checkbox",name:"projects",id:"projects","onUpdate:modelValue":l[4]||(l[4]=c=>i.inviteProjects=c),value:d,class:"outline-none ring-0 focus:outline-none focus:ring-0 block sm:text-sm border-gray-300 rounded"},null,8,Le),[[R,i.inviteProjects]])])]))),256))])]),e("button",{onClick:l[5]||(l[5]=t=>h.saveProject()),class:"btn-primary"},[i.inviteEmailLoading?r("",!0):(s(),o("span",Ee,"Send invite")),i.inviteEmailLoading?(s(),o("span",Me,Se)):r("",!0)])])]),_:1},8,["open"])]),_:1})}const Fe=V(P,[["render",Ue]]);export{Fe as default};
