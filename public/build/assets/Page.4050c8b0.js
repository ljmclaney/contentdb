import{L as y,r as m,o as s,c as f,w as n,a as e,f as b,e as h,t as _,g as d,b as i,d as x,F as g,n as j,G as w,Q as C}from"./app.f50411c5.js";import{L as V}from"./App.edbdc2ce.js";import{F as L}from"./Field.33aeb55d.js";import{_ as O}from"./_plugin-vue_export-helper.cdc0426e.js";/* empty css            */import"./Toast.33254082.js";import"./tiptap-starter-kit.esm.f743a892.js";import"./transition.9bcbe734.js";const S={components:{Link:y,Layout:V,Field:L},props:{page:Object,project:Object,sections:Object,fields:Object,selectedSection:Object},data(){return{editor:null,sortOrder:0}},methods:{saveFields(){this.$inertia.post("/projects/"+this.project.id+"/pages/"+this.page.id+"/fields",{sectionID:this.selectedSection.id,fields:this.fields},{preserveScroll:!0})},markAsCompleted(){this.$inertia.post(route("markAsCompleted",[this.project.id,this.page.id]),{preserveScroll:!0})}}},B={class:"sticky top-0 z-40 bg-white rounded border-b border-gray-300 py-5 px-4 md:px-10 md:flex md:items-center md:justify-between mb-[30px]"},F={class:"text-xl md:text-2xl font-bold flex items-center space-x-[10px]"},N={class:"truncate"},U=e("li",{class:"text-black"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-chevron-right"},[e("polyline",{points:"9 18 15 12 9 6"})])],-1),A={class:"truncate text-gray-600"},D={class:"mt-4 md:mt-0 md:ml-16 flex flex-col md:flex-row md:items-center space-y-3 md:space-y-0 md:space-x-3"},M=h("Edit structure"),T={key:0},z={key:1},E=e("div",{class:"inline-flex items-center justify-center px-4 py-2 border border-green-700 bg-green-600 text-brand-green-700 text-base font-medium rounded"},"Completed",-1),P=[E],G={class:"max-w-4xl mx-auto px-4 relative pt-[10px] pb-[100px]"},I={class:"mb-10"},Q={class:"block"},q={class:"border-b border-gray-300"},H={class:"-mb-px flex justify-between items-center","aria-label":"Tabs"},J={class:"flex space-x-8"},K={class:"space-y-10",id:"fields"},R=["data-id"],W=["onUpdate:modelValue"],X={key:1,class:"flex flex-col justify-center items-center pt-[100px] text-black text-center"},Y=e("div",null,[e("h3",{class:"text-xl font-bold mb-[15px]"},"Let's start building your page structure!"),e("p",{class:"text-black"},"Select a field from the bottom.")],-1),Z=[Y],$={class:"fixed bottom-[20px] left-0 w-full flex flex-col items-center justify-center"},ee={key:0,class:"mb-[30px] animate-bounce rounded-full w-[50px] h-[50px] bg-indigo-50 border border-indigo-500 text-indigo-500 flex justify-center items-center"},te=e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16 17l-4 4m0 0l-4-4m4 4V3"})],-1),se=[te];function oe(a,l,t,ie,de,p){const c=m("Link"),v=m("field"),k=m("Layout");return s(),f(k,{class:"bg-gray-50"},{default:n(()=>[e("div",B,[e("ul",F,[e("li",N,[b(c,{href:a.route("viewProject",t.project.id),class:"text-black hover:text-indigo-500 transition-all"},{default:n(()=>[h(_(t.project.name),1)]),_:1},8,["href"])]),U,e("li",A,_(t.page.name),1)]),e("div",D,[e("div",null,[Object.keys(t.fields).length?(s(),f(c,{key:0,href:a.route("pageStructure",[t.project.id,t.page.id]),class:"btn-outline"},{default:n(()=>[M]),_:1},8,["href"])):d("",!0)]),t.page.status!=="completed"?(s(),i("div",T,[e("button",{onClick:l[0]||(l[0]=o=>p.markAsCompleted()),class:"btn-outline"},"Mark as completed")])):d("",!0),t.page.status==="completed"?(s(),i("div",z,P)):d("",!0),e("div",null,[e("button",{onClick:l[1]||(l[1]=o=>p.saveFields()),class:"btn-primary"},"Save")])])]),e("div",G,[e("div",I,[e("div",Q,[e("div",q,[e("nav",H,[e("ul",J,[(s(!0),i(g,null,x(t.sections,o=>(s(),i("li",null,[b(c,{href:a.route("viewSection",[t.project.id,t.page.id,o.id]),class:j(["border-transparent hover:text-indigo-600 hover:border-indigo-500 whitespace-nowrap flex pt-4 pb-2 px-1 border-b-2 font-medium",{"border-black text-black":t.selectedSection.id===o.id}])},{default:n(()=>[h(_(o.name),1)]),_:2},1032,["href","class"])]))),256))])])])])]),e("div",K,[Object.keys(t.fields).length?(s(!0),i(g,{key:0},x(t.fields,(o,r)=>(s(),i("div",{key:o.uuid,"data-id":o.uuid},[w(e("input",{type:"hidden","onUpdate:modelValue":u=>t.fields[r].sort_order=u},null,8,W),[[C,t.fields[r].sort_order]]),(s(),f(v,{modelValue:t.fields[r],"onUpdate:modelValue":u=>t.fields[r]=u,"field-data":o,page:t.page,project:t.project,key:"field-"+o.uuid},null,8,["modelValue","onUpdate:modelValue","field-data","page","project"]))],8,R))),128)):d("",!0),Object.keys(t.fields).length?d("",!0):(s(),i("div",X,Z))]),e("div",$,[Object.keys(t.fields).length?d("",!0):(s(),i("div",ee,se))])])]),_:1})}const _e=O(S,[["render",oe]]);export{_e as default};
