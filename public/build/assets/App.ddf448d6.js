import{L as M,r as p,h as L,o,d as r,i as w,a as e,t as g,c as h,w as a,n as b,g as n,b as c,f as u,j as C,v as $,k as j}from"./app.5c2f73c4.js";import{T as D}from"./Toast.b710fee4.js";import{_ as k}from"./_plugin-vue_export-helper.cdc0426e.js";import{A as T,L as z,W as N,o as B,f as O}from"./transition.c632c461.js";const V={props:{permissions:Object,subscription:Object,user:Object,accounts:Object},components:{Link:M},data(){return{open:!1}},methods:{onClickOutside(){this.open=!1}}},A={class:"relative"},H=e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-person-fill",viewBox:"0 0 16 16"},[e("path",{d:"M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H3zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"})],-1),W=[H],S={key:0,class:"origin-top-right absolute right-0 z-50 mt-2 w-56 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 focus:outline-none",role:"menu","aria-orientation":"vertical","aria-labelledby":"menu-button",tabindex:"-1"},U={class:"py-1",role:"none"},P={class:"text-black text-sm block px-4 py-2 border-b border-gray-300"},E={class:"block truncate"},R={class:"block truncate"},q=u("Team members & clients"),F=u("Switch accounts"),I=u("Upgrade account"),Y={key:3,href:"/billing-portal",class:"text-black block px-4 py-2 text-sm hover:bg-gray-100 font-medium"},G=u("Logout");function J(t,i,d,x,s,m){const l=p("Link"),_=L("click-outside");return o(),r("div",A,[w((o(),r("button",{onClick:i[0]||(i[0]=y=>s.open=!s.open),class:"w-8 h-8 rounded-full bg-brand-blue flex justify-center items-center"},W)),[[_,m.onClickOutside]]),s.open?(o(),r("div",S,[e("div",U,[e("div",P,[e("strong",E,g(t.$page.props.auth.account.name),1),e("span",R,g(d.user.email),1)]),d.permissions["manage-team-members"]?(o(),h(l,{key:0,href:t.route("viewTeamMembers"),class:b(["text-black block px-4 py-2 text-sm hover:bg-gray-100 font-medium",{"bg-gray-100":t.$page.url.startsWith("/team-members")}])},{default:a(()=>[q]),_:1},8,["href","class"])):n("",!0),Object.keys(d.accounts).length>1?(o(),h(l,{key:1,href:t.route("viewAccounts"),class:"text-black block px-4 py-2 text-sm hover:bg-gray-100 font-medium"},{default:a(()=>[F]),_:1},8,["href"])):n("",!0),d.permissions["manage-billing"]&&!d.subscription.subscribed?(o(),h(l,{key:2,href:"/account/upgrade",class:b(["text-black block px-4 py-2 text-sm hover:bg-gray-100 font-medium",{"bg-gray-100":t.$page.url.startsWith("/account/upgrade")}])},{default:a(()=>[I]),_:1},8,["class"])):n("",!0),d.permissions["manage-billing"]&&d.subscription.subscribed?(o(),r("a",Y,"Manage subscription")):n("",!0),c(l,{href:"/logout",class:"text-black block px-4 py-2 text-sm hover:bg-gray-100 font-medium"},{default:a(()=>[G]),_:1})])])):n("",!0)])}const K=k(V,[["render",J]]),Q={components:{Dialog:T,DialogPanel:z,DialogTitle:N,TransitionChild:B,TransitionRoot:O},props:{open:Boolean},computed:{modalOpen(){return this.open}},methods:{closeModal(){this.$emit("closeModal",!0)}}},X=e("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"},null,-1),Z={class:"fixed z-10 inset-0 overflow-y-auto"},ee={class:"flex items-center justify-center min-h-full p-4 text-center sm:p-0"};function te(t,i,d,x,s,m){const l=p("TransitionChild"),_=p("DialogPanel"),y=p("Dialog"),v=p("TransitionRoot");return o(),h(v,{as:"template",show:m.modalOpen},{default:a(()=>[c(y,{as:"div",class:"relative z-[999]",onClose:i[0]||(i[0]=f=>m.closeModal())},{default:a(()=>[c(l,{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0","enter-to":"opacity-100",leave:"ease-in duration-200","leave-from":"opacity-100","leave-to":"opacity-0"},{default:a(()=>[X]),_:1}),e("div",Z,[e("div",ee,[c(l,{as:"template",enter:"ease-out duration-300","enter-from":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95","enter-to":"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200","leave-from":"opacity-100 translate-y-0 sm:scale-100","leave-to":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"},{default:a(()=>[c(_,{class:"relative bg-white rounded-lg px-4 pt-5 pb-4 text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:max-w-lg sm:w-full sm:p-6"},{default:a(()=>[C(t.$slots,"default")]),_:3})]),_:3})])])]),_:3})]),_:3},8,["show"])}const se=k(Q,[["render",te]]),oe={components:{Link:M,Toast:D,UserDropdown:K,Modal:se},props:{errors:Object},data(){return{showMenu:!1,form:this.$inertia.form({userName:null,accountName:null}),accountDetailsLoading:!1}},computed:{toast(){return this.$page.props.toast},showToast(){return this.$page.props.toast!==null}}},ne={class:"bg-black text-white py-4 px-4 md:px-10 flex justify-between items-center relative z-50"},ae={class:"flex items-center"},re=u("CollectContent"),ie={key:0,class:"hidden sm:flex items-center space-x-[30px]"},le=u("Projects"),ce={key:0,xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"w-8 h-8",viewBox:"0 0 16 16"},ue=e("path",{"fill-rule":"evenodd",d:"M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5z"},null,-1),de=[ue],pe={key:1,xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"w-8 h-8",viewBox:"0 0 16 16"},me=e("path",{d:"M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z"},null,-1),he=e("path",{d:"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"},null,-1),fe=[me,he],_e={key:0,class:"bg-black text-white px-8 h-screen w-full flex justify-center items-center"},ge={class:"text-xl space-y-10 -mt-[140px]"},be=u("Projects"),ye={key:0},ve=u("Upgrade account"),we={key:1},ke=e("a",{href:"/billing-portal",class:"hover:underline underline-offset-4 transition-all font-medium"},"Manage subscription",-1),xe=[ke],$e=u("Logout"),Me=e("h3",{class:"text-xl mb-5 font-bold"},"Final step!",-1),Ce={class:"space-y-5"},Le=e("label",{for:"name",class:"block font-medium text-gray-700"},"Your name",-1),je={class:"mt-1"},De={key:0,class:"text-sm mt-2 text-red-600"},Te=e("label",{for:"account_name",class:"block font-medium text-gray-700"},"Business or account name",-1),ze={class:"mt-1"},Ne={key:0,class:"text-sm mt-2 text-red-600"},Be=["disabled"],Oe={key:0},Ve={key:1,class:"flex items-center"},Ae=e("svg",{class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),He=u(" Saving "),We=[Ae,He];function Se(t,i,d,x,s,m){const l=p("Link"),_=p("user-dropdown"),y=p("toast"),v=p("modal");return o(),r("main",null,[e("header",ne,[e("div",ae,[c(l,{href:"/projects",class:"text-xl mr-10 font-bold"},{default:a(()=>[re]),_:1})]),t.$page.props.auth?(o(),r("ul",ie,[e("li",null,[c(l,{href:"/projects",class:b(["hover:underline underline-offset-4 transition-all font-medium",{underline:t.$page.url.startsWith("/projects")}])},{default:a(()=>[le]),_:1},8,["class"])]),e("li",null,[c(_,{accounts:t.$page.props.auth.accounts,user:t.$page.props.auth.user,permissions:t.$page.props.permissions,subscription:t.$page.props.subscription},null,8,["accounts","user","permissions","subscription"])])])):n("",!0),e("button",{class:"sm:hidden text-white",onClick:i[0]||(i[0]=f=>s.showMenu=!s.showMenu)},[s.showMenu?n("",!0):(o(),r("svg",ce,de)),s.showMenu?(o(),r("svg",pe,fe)):n("",!0)]),t.$page.props.userRole==="owner"&&t.$page.props.subscription.onTrial&&t.$page.props.subscription.trialEndsAt&&t.$page.props.subscription.trialEndsAt<=14?(o(),h(l,{key:1,href:"/account/upgrade",class:"hidden lg:block absolute bg-brand-dark-blue text-black font-bold text-center px-2 py-1 rounded-b top-0 right-0 left-0 w-[200px] mx-auto text-xs"},{default:a(()=>[u(g(t.$page.props.subscription.trialEndsAt)+" days remaining - Upgrade ",1)]),_:1})):n("",!0)]),s.showMenu?(o(),r("div",_e,[e("ul",ge,[e("li",null,[c(l,{href:"/projects",class:b(["hover:underline underline-offset-4 transition-all font-medium",{underline:t.$page.url.startsWith("/projects")}])},{default:a(()=>[be]),_:1},8,["class"])]),t.$page.props.subscription.subscribed?n("",!0):(o(),r("li",ye,[c(l,{href:"/account/upgrade",class:b(["hover:underline underline-offset-4 transition-all font-medium",{underline:t.$page.url.startsWith("/account/upgrade")}])},{default:a(()=>[ve]),_:1},8,["class"])])),t.$page.props.subscription.subscribed?(o(),r("li",we,xe)):n("",!0),e("li",null,[c(l,{href:"/logout",class:"hover:underline underline-offset-4 transition-all font-medium"},{default:a(()=>[$e]),_:1})])])])):n("",!0),C(t.$slots,"default"),(o(),h(y,{show:m.showToast,data:m.toast,key:m.toast},null,8,["show","data"])),t.$page.props.accountIncomplete?(o(),h(v,{key:1,open:!0},{default:a(()=>[Me,e("form",{onSubmit:i[3]||(i[3]=j(f=>s.form.post(t.route("accountDetails")),["prevent"])),class:"space-y-[30px]"},[e("div",Ce,[e("div",null,[Le,e("div",je,[w(e("input",{type:"text",name:"name",id:"name","onUpdate:modelValue":i[1]||(i[1]=f=>s.form.userName=f),class:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",required:""},null,512),[[$,s.form.userName]]),s.form.errors.userName?(o(),r("div",De,g(s.form.errors.userName),1)):n("",!0)])]),e("div",null,[Te,e("div",ze,[w(e("input",{type:"text",name:"account_name",id:"account_name","onUpdate:modelValue":i[2]||(i[2]=f=>s.form.accountName=f),class:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",required:""},null,512),[[$,s.form.accountName]]),s.form.errors.accountName?(o(),r("div",Ne,g(s.form.errors.accountName),1)):n("",!0)])]),e("button",{type:"submit",class:"btn-primary",disabled:s.accountDetailsLoading},[s.accountDetailsLoading?n("",!0):(o(),r("span",Oe,"Save")),s.accountDetailsLoading?(o(),r("span",Ve,We)):n("",!0)],8,Be)])],32)]),_:1})):n("",!0)])}const qe=k(oe,[["render",Se]]);export{qe as L,se as M};
