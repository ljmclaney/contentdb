import{L as b,r as c,o as l,c as v,w as m,a as e,b as f,f as p,t as a,d as r,F as w,e as y,g as i,i as k,v as L,k as j}from"./app.5c2f73c4.js";import{L as A}from"./Shared.6e1d5182.js";import{S as C}from"./SlideOver.8939ced3.js";import{M}from"./ModalLarge.ecc3cd23.js";import{_ as D}from"./_plugin-vue_export-helper.cdc0426e.js";/* empty css            */import"./Toast.b710fee4.js";import"./transition.c632c461.js";const F={components:{Link:b,Layout:A,SlideOver:C,Modal:M},props:{project:Object,uuid:String,brandAssets:Object},data(){return{uploadAsset:!1,uploadLoading:!1,form:this.$inertia.form({name:null,file:null}),showDeleteModal:!1,selectedFileToDelete:null}},methods:{uploadFile(){this.uploadLoading=!0,this.form.post(route("sharedUploadFile",[this.project.id,this.uuid]),{preserveScroll:!0,onSuccess:()=>{this.form.name=null,this.form.file=null,this.uploadLoading=!1,this.uploadAsset=!1},onError:()=>{this.uploadLoading=!1}})},initiateDelete(u){this.selectedFileToDelete=u,this.showDeleteModal=!0},deleteFile(){this.showDeleteModal=!1,this.$inertia.delete(route("sharedDeleteFile",[this.project.id,this.uuid,this.selectedFileToDelete]))}}},z={class:"sticky top-0 z-40 bg-white rounded border-b border-gray-300 py-5 px-4 md:px-10 md:flex md:items-center md:justify-between mb-[30px]"},B={class:"text-xl md:text-2xl font-bold flex items-center space-x-[10px]"},S={class:"truncate"},U=e("li",{class:"text-black"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-chevron-right"},[e("polyline",{points:"9 18 15 12 9 6"})])],-1),V=e("li",{class:"truncate text-gray-600"},"Brand assets",-1),H={class:"mt-4 md:mt-0 md:ml-16 flex flex-col md:flex-row md:items-center space-y-3 md:space-y-0 md:space-x-3"},T={class:"max-w-5xl mx-auto px-4 relative pt-[50px] pb-[112px]"},Z={class:"max-w-4xl mx-auto space-y-[30px]"},O={key:0,class:"bg-white rounded border border-gray-300"},N={class:"p-5 flex flex-col"},E={class:"-my-2 -mx-4 overflow-x-auto sm:-mx-6 lg:-mx-8"},I={class:"inline-block min-w-full align-middle md:px-6 lg:px-8"},P={class:"min-w-full divide-y divide-gray-300"},R={class:"divide-y divide-gray-200"},q={class:"whitespace-nowrap py-4 pl-4 pr-3 font-medium text-gray-900 sm:pl-6 md:pl-0 w-3/4"},G={class:"font-bold"},J={class:"text-right py-4 flex items-center justify-end space-x-3"},K=["href","download"],Q=["onClick"],W=e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"w-4 h-4",viewBox:"0 0 16 16"},[e("path",{d:"M6.5 1h3a.5.5 0 0 1 .5.5v1H6v-1a.5.5 0 0 1 .5-.5ZM11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3A1.5 1.5 0 0 0 5 1.5v1H2.506a.58.58 0 0 0-.01 0H1.5a.5.5 0 0 0 0 1h.538l.853 10.66A2 2 0 0 0 4.885 16h6.23a2 2 0 0 0 1.994-1.84l.853-10.66h.538a.5.5 0 0 0 0-1h-.995a.59.59 0 0 0-.01 0H11Zm1.958 1-.846 10.58a1 1 0 0 1-.997.92h-6.23a1 1 0 0 1-.997-.92L3.042 3.5h9.916Zm-7.487 1a.5.5 0 0 1 .528.47l.5 8.5a.5.5 0 0 1-.998.06L5 5.03a.5.5 0 0 1 .47-.53Zm5.058 0a.5.5 0 0 1 .47.53l-.5 8.5a.5.5 0 1 1-.998-.06l.5-8.5a.5.5 0 0 1 .528-.47ZM8 4.5a.5.5 0 0 1 .5.5v8.5a.5.5 0 0 1-1 0V5a.5.5 0 0 1 .5-.5Z"})],-1),X=[W],Y={key:1,class:"flex flex-col justify-center items-center text-center pt-[100px]"},$=e("div",{class:"mb-[30px]"},[e("h3",{class:"text-xl font-bold mb-[15px]"},"Upload brand assets!"),e("p",{class:"text-black"},"Upload and organize the brand assets needed for this project.")],-1),ee=["value"],te=e("label",{for:"name",class:"block text-sm font-medium text-gray-700"},"Asset name",-1),se={class:"mt-1"},oe={key:0,class:"text-sm text-red-600 mt-1"},le={class:"relative overflow-hidden w-full h-40"},re=e("span",{class:"w-full h-40 bg-gray-50 border border-dashed border-gray-300 rounded flex justify-center items-center text-black font-medium hover:bg-gray-50 hover:border-brand-dark-blue transition-all relative z-20 cursor-pointer"},"Select file",-1),ie={key:0,class:"text-sm text-red-600 mt-1"},ne={class:"btn-primary"},ae={key:0},de={key:1,class:"flex items-center"},ce=e("svg",{class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),me=p(" Uploading "),ue=[ce,me],fe=e("div",{class:"sm:flex sm:items-start"},[e("div",{class:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"h-5 w-5 text-red-600",viewBox:"0 0 16 16"},[e("path",{d:"M7.938 2.016A.13.13 0 0 1 8.002 2a.13.13 0 0 1 .063.016.146.146 0 0 1 .054.057l6.857 11.667c.036.06.035.124.002.183a.163.163 0 0 1-.054.06.116.116 0 0 1-.066.017H1.146a.115.115 0 0 1-.066-.017.163.163 0 0 1-.054-.06.176.176 0 0 1 .002-.183L7.884 2.073a.147.147 0 0 1 .054-.057zm1.044-.45a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566z"}),e("path",{d:"M7.002 12a1 1 0 1 1 2 0 1 1 0 0 1-2 0zM7.1 5.995a.905.905 0 1 1 1.8 0l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995z"})])]),e("div",{class:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left"},[e("h3",{class:"text-lg leading-6 font-medium text-gray-900"}," Delete file"),e("div",{class:"mt-2"},[e("p",{class:"text-sm text-gray-500"},"Are you sure you want to delete this file? This action cannot be undone.")])])],-1),pe={class:"mt-5 sm:mt-4 sm:flex sm:flex-row-reverse"};function he(u,s,n,xe,t,d){const h=c("Link"),x=c("slide-over"),g=c("modal"),_=c("Layout");return l(),v(_,null,{default:m(()=>[e("div",z,[e("ul",B,[e("li",S,[f(h,{href:u.route("viewSharedProject",[n.project.id,n.uuid]),class:"text-black hover:text-indigo-500 transition-all"},{default:m(()=>[p(a(n.project.name),1)]),_:1},8,["href"])]),U,V]),e("div",H,[e("div",null,[e("button",{onClick:s[0]||(s[0]=o=>t.uploadAsset=!0),class:"btn-primary"},"Upload asset")])])]),e("div",T,[e("div",Z,[Object.keys(n.brandAssets.data).length?(l(),r("div",O,[e("div",null,[e("div",N,[e("div",E,[e("div",I,[e("table",P,[e("tbody",R,[(l(!0),r(w,null,y(n.brandAssets.data,(o,ge)=>(l(),r("tr",null,[e("td",q,[e("span",G,a(o.name),1)]),e("td",J,[e("a",{href:"/storage"+o.file,download:o.uuid,class:"btn-outline"},"Download",8,K),e("button",{class:"btn-red",onClick:_e=>d.initiateDelete(o.id)},X,8,Q)])]))),256))])])])])])])])):i("",!0),Object.keys(n.brandAssets.data).length?i("",!0):(l(),r("div",Y,[e("div",null,[$,e("button",{onClick:s[1]||(s[1]=o=>t.uploadAsset=!0),type:"button",class:"btn-primary"},"Upload an asset")])]))])]),f(x,{open:t.uploadAsset,onCloseSlider:s[5]||(s[5]=o=>t.uploadAsset=!1),title:"Upload an asset"},{default:m(()=>[e("form",{onSubmit:s[4]||(s[4]=j((...o)=>d.uploadFile&&d.uploadFile(...o),["prevent"])),class:"space-y-[15px]"},[t.form.progress?(l(),r("progress",{key:0,value:t.form.progress.percentage,max:"100"},a(t.form.progress.percentage)+"% ",9,ee)):i("",!0),e("div",null,[te,e("div",se,[k(e("input",{type:"text",id:"name","onUpdate:modelValue":s[2]||(s[2]=o=>t.form.name=o),class:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md"},null,512),[[L,t.form.name]]),t.form.errors.name?(l(),r("div",oe,a(t.form.errors.name),1)):i("",!0)])]),e("div",null,[e("label",le,[re,e("input",{type:"file",onInput:s[3]||(s[3]=o=>t.form.file=o.target.files[0]),class:"absolute z-10 top-0 opacity-0"},null,32),t.form.errors.file?(l(),r("div",ie,a(t.form.errors.file),1)):i("",!0)])]),e("button",ne,[t.uploadLoading?i("",!0):(l(),r("span",ae,"Upload")),t.uploadLoading?(l(),r("span",de,ue)):i("",!0)])],32)]),_:1},8,["open"]),f(g,{open:t.showDeleteModal},{default:m(()=>[e("form",null,[fe,e("div",pe,[e("button",{onClick:s[6]||(s[6]=o=>d.deleteFile()),type:"button",class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:ml-3 sm:w-auto sm:text-sm"},"Delete"),e("button",{onClick:s[7]||(s[7]=o=>t.showDeleteModal=!1),type:"button",class:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:w-auto sm:text-sm",ref:"cancelButtonRef"},"Cancel",512)])])]),_:1},8,["open"])]),_:1})}const Ce=D(F,[["render",he]]);export{Ce as default};
