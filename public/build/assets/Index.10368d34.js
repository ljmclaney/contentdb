import{L as j,r as c,o,c as g,w as d,a as e,b as p,t as C,d as a,g as l,F as w,e as _,i as v,v as f,U as S,f as h}from"./app.cf216f3d.js";import{L,M as A}from"./App.ae0021ff.js";import{S as z}from"./SlideOver.dc227965.js";import{P as M,a as V}from"./PageItem.8f269c69.js";import{_ as B}from"./_plugin-vue_export-helper.cdc0426e.js";/* empty css            */import"./Toast.ed697e7c.js";import"./transition.a2ca2e02.js";const I={components:{Link:j,Layout:L,SlideOver:z,Modal:A,PageItem:M,PageOption:V},props:{project:Object,pages:Object},data(){return{createPage:!1,newPage:null,parentPageId:null,showShare:!1,copiedLink:!1,copiedPassword:null,newPageLoading:!1,sharePassword:null,savingShareSettings:!1,showCollaborators:!1}},methods:{savePage(){this.newPageLoading=!0,this.$inertia.post("/projects/"+this.project.id+"/pages/create",{projectID:this.project.id,name:this.newPage,parentPageId:this.parentPageId},{preserveScroll:!0,onSuccess:()=>{this.newPage=null,this.parentPageId=null,this.createPage=!1,this.newPageLoading=!1},onError:()=>{this.newPageLoading=!1}})},copyLink(r){navigator.clipboard.writeText(r),this.copiedLink=!0},copyPassword(r){navigator.clipboard.writeText(r),this.copiedPassword=!0},savePassword(){this.savingShareSettings=!0,this.$inertia.post(route("saveProjectPassword",this.project.id),{password:this.project.password},{preserveScroll:!0,onSuccess:()=>{this.savingShareSettings=!1}})}}},N={class:"sticky top-0 z-40 bg-white rounded border-b border-gray-300 py-5 px-4 md:px-10 md:flex md:items-center md:justify-between mb-[30px]"},O={class:"text-xl md:text-2xl font-bold flex items-center space-x-[10px]"},H={class:"truncate"},D=h("Projects"),T=e("li",{class:"text-black"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-chevron-right"},[e("polyline",{points:"9 18 15 12 9 6"})])],-1),U={class:"truncate text-gray-600"},E={class:"mt-4 md:mt-0 md:ml-16 flex flex-col md:flex-row md:items-center space-y-3 md:space-y-0 md:space-x-3"},F=e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"w-5 h-5",viewBox:"0 0 16 16"},[e("path",{"fill-rule":"evenodd",d:"M6 3.5A1.5 1.5 0 0 1 7.5 2h1A1.5 1.5 0 0 1 10 3.5v1A1.5 1.5 0 0 1 8.5 6v1H14a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-1 0V8h-5v.5a.5.5 0 0 1-1 0V8h-5v.5a.5.5 0 0 1-1 0v-1A.5.5 0 0 1 2 7h5.5V6A1.5 1.5 0 0 1 6 4.5v-1zM8.5 5a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1zM0 11.5A1.5 1.5 0 0 1 1.5 10h1A1.5 1.5 0 0 1 4 11.5v1A1.5 1.5 0 0 1 2.5 14h-1A1.5 1.5 0 0 1 0 12.5v-1zm1.5-.5a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5h-1zm4.5.5A1.5 1.5 0 0 1 7.5 10h1a1.5 1.5 0 0 1 1.5 1.5v1A1.5 1.5 0 0 1 8.5 14h-1A1.5 1.5 0 0 1 6 12.5v-1zm1.5-.5a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5h-1zm4.5.5a1.5 1.5 0 0 1 1.5-1.5h1a1.5 1.5 0 0 1 1.5 1.5v1a1.5 1.5 0 0 1-1.5 1.5h-1a1.5 1.5 0 0 1-1.5-1.5v-1zm1.5-.5a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5h-1z"})],-1),Y={key:0},q=h("Archive"),G={key:1},J={key:2},K=h("Edit all content"),Q={key:3},R={class:"max-w-5xl mx-auto px-4 relative pt-10 pb-[112px]"},W={class:"max-w-4xl mx-auto space-y-[30px]"},X={key:0,class:"bg-white rounded border border-gray-300"},Z={class:"p-5 flex flex-col"},$={class:"-my-2 -mx-4 overflow-x-auto sm:-mx-6 lg:-mx-8"},ee={class:"inline-block min-w-full align-middle md:px-6 lg:px-8"},te={class:"min-w-full divide-y divide-gray-300"},se=e("div",null,[e("div",{class:"flex items-center justify-between"},[e("div",{class:"py-3.5 pl-4 pr-3 text-left font-semibold sm:pl-6 md:pl-0 w-1/2"},"Name"),e("div",{class:"py-3.5 pl-4 pr-3 text-left font-semibold sm:pl-6 md:pl-0 w-1/4"},"Status"),e("div",{class:"py-3.5 px-3 text-left font-semibold text-right w-1/4"},"Last updated")])],-1),oe={class:"divide-y divide-gray-200"},ie={key:1,class:"flex flex-col justify-center items-center text-center pt-[100px]"},ne={key:0},ae=e("div",{class:"mb-[30px]"},[e("h3",{class:"text-xl font-bold mb-[15px]"},"Add your pages!"),e("p",{class:"text-black"},"Start by creating your first page to organize and collect content.")],-1),le={key:1},re=e("div",{class:"mb-[30px]"},[e("h3",{class:"text-xl font-bold mb-[15px]"},"No pages created yet!"),e("p",{class:"text-black"},"You will need to wait until your team members create pages for your project.")],-1),de=[re],ce={class:"space-y-[15px]"},pe=e("label",{for:"page",class:"block text-sm font-medium text-gray-700"},"Page name",-1),he={class:"mt-1"},me=e("label",{for:"parent_page",class:"block text-sm font-medium text-gray-700"},"Parent page (optional)",-1),ue={class:"mt-1"},ge=e("option",{value:"",selected:""},"No parent page",-1),ve=["disabled"],we={key:0},_e={key:1,class:"flex items-center"},fe=e("svg",{class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),xe=h(" Saving "),be=[fe,xe],ye={class:"mb-5"},ke=e("label",{for:"link",class:"block font-medium mb-4 text-lg font-bold"},"Share a public link",-1),Pe={class:"mt-1 flex rounded-md shadow-sm"},je={class:"relative flex items-stretch flex-grow focus-within:z-10"},Ce=e("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"h-5 w-5 text-gray-400",viewBox:"0 0 16 16"},[e("path",{d:"M4.715 6.542 3.343 7.914a3 3 0 1 0 4.243 4.243l1.828-1.829A3 3 0 0 0 8.586 5.5L8 6.086a1.002 1.002 0 0 0-.154.199 2 2 0 0 1 .861 3.337L6.88 11.45a2 2 0 1 1-2.83-2.83l.793-.792a4.018 4.018 0 0 1-.128-1.287z"}),e("path",{d:"M6.586 4.672A3 3 0 0 0 7.414 9.5l.775-.776a2 2 0 0 1-.896-3.346L9.12 3.55a2 2 0 1 1 2.83 2.83l-.793.792c.112.42.155.855.128 1.287l1.372-1.372a3 3 0 1 0-4.243-4.243L6.586 4.672z"})])],-1),Se=["value"],Le={key:0,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"w-4 h-4"},Ae=e("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"},null,-1),ze=e("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"},null,-1),Me=[Ae,ze],Ve={key:1},Be=e("label",{for:"email",class:"block font-medium"},"Password (optional)",-1),Ie={class:"mt-1 flex rounded-md shadow-sm"},Ne={class:"relative flex items-stretch flex-grow focus-within:z-10"},Oe=e("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"h-5 w-5 text-gray-400",viewBox:"0 0 16 16"},[e("path",{d:"M5.338 1.59a61.44 61.44 0 0 0-2.837.856.481.481 0 0 0-.328.39c-.554 4.157.726 7.19 2.253 9.188a10.725 10.725 0 0 0 2.287 2.233c.346.244.652.42.893.533.12.057.218.095.293.118a.55.55 0 0 0 .101.025.615.615 0 0 0 .1-.025c.076-.023.174-.061.294-.118.24-.113.547-.29.893-.533a10.726 10.726 0 0 0 2.287-2.233c1.527-1.997 2.807-5.031 2.253-9.188a.48.48 0 0 0-.328-.39c-.651-.213-1.75-.56-2.837-.855C9.552 1.29 8.531 1.067 8 1.067c-.53 0-1.552.223-2.662.524zM5.072.56C6.157.265 7.31 0 8 0s1.843.265 2.928.56c1.11.3 2.229.655 2.887.87a1.54 1.54 0 0 1 1.044 1.262c.596 4.477-.787 7.795-2.465 9.99a11.775 11.775 0 0 1-2.517 2.453 7.159 7.159 0 0 1-1.048.625c-.28.132-.581.24-.829.24s-.548-.108-.829-.24a7.158 7.158 0 0 1-1.048-.625 11.777 11.777 0 0 1-2.517-2.453C1.928 10.487.545 7.169 1.141 2.692A1.54 1.54 0 0 1 2.185 1.43 62.456 62.456 0 0 1 5.072.56z"}),e("path",{d:"M9.5 6.5a1.5 1.5 0 0 1-1 1.415l.385 1.99a.5.5 0 0 1-.491.595h-.788a.5.5 0 0 1-.49-.595l.384-1.99a1.5 1.5 0 1 1 2-1.415z"})])],-1),He={key:0,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"w-4 h-4"},De=e("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"},null,-1),Te=e("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"},null,-1),Ue=[De,Te],Ee={key:1},Fe={class:"flex justify-end items-center mt-10 space-x-3"},Ye=["disabled"],qe={key:0},Ge={key:1,class:"flex items-center"},Je=e("svg",{class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),Ke=h(" Applying "),Qe=[Je,Ke];function Re(r,t,n,We,s,m){const u=c("Link"),x=c("page-item"),b=c("page-option"),y=c("slide-over"),k=c("modal"),P=c("Layout");return o(),g(P,null,{default:d(()=>[e("div",N,[e("ul",O,[e("li",H,[p(u,{href:"/projects",class:"text-black hover:text-indigo-500 transition-all"},{default:d(()=>[D]),_:1})]),T,e("li",U,C(n.project.name),1)]),e("div",E,[e("div",null,[p(u,{href:r.route("viewSitemap",n.project.id),class:"btn-outline"},{default:d(()=>[F]),_:1},8,["href"])]),r.$page.props.permissions["create-projects"]?(o(),a("div",Y,[p(u,{href:r.route("archiveProject",n.project.id),class:"btn-outline"},{default:d(()=>[q]),_:1},8,["href"])])):l("",!0),r.$page.props.permissions["create-projects"]?(o(),a("div",G,[e("button",{onClick:t[0]||(t[0]=i=>s.showShare=!s.showShare),class:"btn-outline"},"Share")])):l("",!0),Object.keys(n.pages).length?(o(),a("div",J,[p(u,{href:r.route("viewAllContent",n.project.id),class:"btn-outline"},{default:d(()=>[K]),_:1},8,["href"])])):l("",!0),r.$page.props.permissions["create-projects"]?(o(),a("div",Q,[e("button",{onClick:t[1]||(t[1]=i=>s.createPage=!0),class:"btn-primary"},"Create a page")])):l("",!0)])]),e("div",R,[e("div",W,[Object.keys(n.pages).length?(o(),a("div",X,[e("div",null,[e("div",Z,[e("div",$,[e("div",ee,[e("div",te,[se,e("ul",oe,[(o(!0),a(w,null,_(n.pages,i=>(o(),g(x,{project:n.project,node:i,pages:n.pages,permissions:r.$page.props.permissions},null,8,["project","node","pages","permissions"]))),256))])])])])])])])):l("",!0),Object.keys(n.pages).length?l("",!0):(o(),a("div",ie,[r.$page.props.permissions["create-projects"]?(o(),a("div",ne,[ae,e("button",{onClick:t[2]||(t[2]=i=>s.createPage=!0),type:"button",class:"btn-primary"},"Create a page")])):l("",!0),r.$page.props.permissions["create-projects"]?l("",!0):(o(),a("div",le,de))]))])]),p(y,{open:s.createPage,onCloseSlider:t[6]||(t[6]=i=>s.createPage=!1),title:"Create a page"},{default:d(()=>[e("div",ce,[e("div",null,[pe,e("div",he,[v(e("input",{type:"text",name:"page",id:"page","onUpdate:modelValue":t[3]||(t[3]=i=>s.newPage=i),class:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md",placeholder:"e.g. Home, About page, December Newsletter"},null,512),[[f,s.newPage]])])]),e("div",null,[me,e("div",ue,[v(e("select",{name:"parent_page",id:"parent_page","onUpdate:modelValue":t[4]||(t[4]=i=>s.parentPageId=i),class:"shadow-sm focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:text-sm border-gray-300 rounded-md"},[ge,(o(!0),a(w,null,_(n.pages,i=>(o(),g(b,{node:i},null,8,["node"]))),256))],512),[[S,s.parentPageId]])])]),e("button",{onClick:t[5]||(t[5]=i=>m.savePage()),class:"btn-primary",disabled:s.newPageLoading},[s.newPageLoading?l("",!0):(o(),a("span",we,"Save")),s.newPageLoading?(o(),a("span",_e,be)):l("",!0)],8,ve)])]),_:1},8,["open"]),p(k,{open:s.showShare,onCloseModal:t[12]||(t[12]=i=>s.showShare=!1)},{default:d(()=>[e("div",ye,[ke,e("div",Pe,[e("div",je,[Ce,e("input",{type:"text",name:"link",id:"link",value:r.route("viewSharedProject",[n.project.id,n.project.uuid]),class:"focus:ring-indigo-500 focus:border-indigo-500 block w-full rounded-none rounded-l-md pl-10 sm:text-sm border-gray-300",readonly:""},null,8,Se)]),e("button",{onClick:t[7]||(t[7]=i=>m.copyLink(r.route("viewSharedProject",[n.project.id,n.project.uuid]))),type:"button",class:"-ml-px relative inline-flex items-center space-x-2 px-4 py-2 bg-black text-sm font-medium rounded-r-md text-white hover:bg-indigo-700"},[s.copiedLink?l("",!0):(o(),a("svg",Le,Me)),s.copiedLink?(o(),a("span",Ve,"Copied!")):l("",!0)])])]),e("div",null,[Be,e("div",Ie,[e("div",Ne,[Oe,v(e("input",{type:"text",name:"share_password","onUpdate:modelValue":t[8]||(t[8]=i=>n.project.password=i),class:"focus:ring-indigo-500 focus:border-indigo-500 block w-full rounded-none rounded-l-md pl-10 sm:text-sm border-gray-300"},null,512),[[f,n.project.password]])]),e("button",{onClick:t[9]||(t[9]=i=>m.copyPassword(n.project.password)),type:"button",class:"-ml-px relative inline-flex items-center space-x-2 px-4 py-2 bg-black text-sm font-medium rounded-r-md text-white hover:bg-indigo-700"},[s.copiedPassword?l("",!0):(o(),a("svg",He,Ue)),s.copiedPassword?(o(),a("span",Ee,"Copied!")):l("",!0)])])]),e("div",Fe,[e("button",{onClick:t[10]||(t[10]=i=>s.showShare=!1),class:"btn-outline"},"Cancel"),e("button",{onClick:t[11]||(t[11]=i=>m.savePassword()),type:"button",class:"btn-primary",disabled:s.savingShareSettings},[s.savingShareSettings?l("",!0):(o(),a("span",qe,"Apply")),s.savingShareSettings?(o(),a("span",Ge,Qe)):l("",!0)],8,Ye)])]),_:1},8,["open"])]),_:1})}const nt=B(I,[["render",Re]]);export{nt as default};
